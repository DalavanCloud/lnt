[tox]
envlist = py27
          mypy
          flake8

[testenv]
whitelist_externals = rm

deps = -rrequirements.txt

commands =
    rm -rf ./test_run_tmp
    lit -sv ./tests/

[testenv:mypy]
basepython = python3
skip_install = true
deps =
    mypy
commands =
    # No where close to passing yet, but nice to have.
    - mypy --junit-xml=junit-{envname}.xml --py2 --ignore-missing-imports lnt

[testenv:flake8]
skip_install = true
deps =
    flake8
commands =
    # Still lots of problems.
    - flake8 --exclude=./lnt/external/  ./lnt/ ./tests/ ./setup.py ./deployment/
